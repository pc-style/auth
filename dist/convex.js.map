{"version":3,"sources":["../src/convex.ts"],"sourcesContent":["/**\n * Create Convex auth config for WorkOS integration\n *\n * @example\n * // convex/auth.config.ts\n * import { createConvexAuthConfig } from '@pcstyle/auth/convex';\n *\n * export default createConvexAuthConfig(process.env.WORKOS_CLIENT_ID);\n */\nexport function createConvexAuthConfig(clientId: string | undefined) {\n    if (!clientId) {\n        throw new Error('WORKOS_CLIENT_ID is required for Convex auth config');\n    }\n\n    return {\n        providers: [\n            {\n                type: 'customJwt' as const,\n                issuer: 'https://api.workos.com/',\n                algorithm: 'RS256' as const,\n                applicationID: clientId,\n                jwks: `https://api.workos.com/sso/jwks/${clientId}`,\n            },\n            {\n                type: 'customJwt' as const,\n                issuer: `https://api.workos.com/user_management/${clientId}`,\n                algorithm: 'RS256' as const,\n                jwks: `https://api.workos.com/sso/jwks/${clientId}`,\n                applicationID: clientId,\n            },\n        ],\n    };\n}\n\n/**\n * Default export using environment variable\n */\nexport default createConvexAuthConfig(process.env.WORKOS_CLIENT_ID);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASO,SAAS,uBAAuB,UAA8B;AACjE,MAAI,CAAC,UAAU;AACX,UAAM,IAAI,MAAM,qDAAqD;AAAA,EACzE;AAEA,SAAO;AAAA,IACH,WAAW;AAAA,MACP;AAAA,QACI,MAAM;AAAA,QACN,QAAQ;AAAA,QACR,WAAW;AAAA,QACX,eAAe;AAAA,QACf,MAAM,mCAAmC,QAAQ;AAAA,MACrD;AAAA,MACA;AAAA,QACI,MAAM;AAAA,QACN,QAAQ,0CAA0C,QAAQ;AAAA,QAC1D,WAAW;AAAA,QACX,MAAM,mCAAmC,QAAQ;AAAA,QACjD,eAAe;AAAA,MACnB;AAAA,IACJ;AAAA,EACJ;AACJ;AAKA,IAAO,iBAAQ,uBAAuB,QAAQ,IAAI,gBAAgB;","names":[]}